{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./config/webpack.dev.js","webpack:///./data/post.md","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./src/components/AppRoot.js","webpack:///./src/images/square.jpg","webpack:///./src/main.styl?6cb3","webpack:///./src/server/express.js","webpack:///./src/server/main.js","webpack:///external \"@babel/register\"","webpack:///external \"@babel/runtime/helpers/classCallCheck\"","webpack:///external \"@babel/runtime/helpers/createClass\"","webpack:///external \"@babel/runtime/helpers/getPrototypeOf\"","webpack:///external \"@babel/runtime/helpers/inherits\"","webpack:///external \"@babel/runtime/helpers/possibleConstructorReturn\"","webpack:///external \"express\"","webpack:///external \"express-static-gzip\"","webpack:///external \"html-webpack-plugin\"","webpack:///external \"mini-css-extract-plugin\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-hot-loader\"","webpack:///external \"react-hot-loader/root\"","webpack:///external \"webpack\"","webpack:///external \"webpack-dev-middleware\"","webpack:///external \"webpack-hot-middleware\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__dirname","path","require","webpack","MiniCSSExtractPlugin","entry","main","output","filename","resolve","publicPath","devServer","contentBase","overlay","hot","optimization","splitChunks","chunks","devtool","rules","test","use","loader","exclude","options","importLoaders","attrs","plugins","HotModuleReplacementPlugin","title","author","__content","originalModule","webpackPolyfill","children","Heading","props","_this","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default","this","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default","state","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","src","alt","MarkdownData","dangerouslySetInnerHTML","__html","Component","__webpack_exports__","counter","profile","content","server","express","expressStaticGzip","enableBrotli","req","res","html","ReactDOMServer","renderToString","react__WEBPACK_IMPORTED_MODULE_1___default","_components_AppRoot__WEBPACK_IMPORTED_MODULE_2__","send","concat","PORT","process","listen","console","log"],"mappings":"aACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,gDClFA,SAAAC,GAAA,IAAMC,EAAOC,EAAQ,QACfC,EAAUD,EAAQ,WAElBE,GADoBF,EAAQ,uBACLA,EAAQ,4BAErCnC,EAAOD,QAAU,CACfuC,MAAO,CACLC,KAAM,CACJ,6BACA,4CACA,kBAGJnB,KAAM,cACNoB,OAAQ,CACNC,SAAU,mBACVP,KAAMA,EAAKQ,QAAQT,EAAW,WAC9BU,WAAY,KAEdC,UAAW,CAITC,YAAa,OACbC,SAAS,EACTC,KAAK,GAEPC,aAAc,CACZC,YAAa,CACXC,OAAQ,QAGZC,QAAS,aACTnD,OAAQ,CACNoD,MAAO,CACL,CACEC,KAAM,QACNC,IAAK,CACH,CACEC,OAAQ,iBAGZC,QAAS,gBAEX,CACEH,KAAM,SACNC,IAAK,CACH,CACEC,OAAQlB,EAAqBkB,QAE/B,CACEA,OAAQ,gBAId,CACEF,KAAM,UACNC,IAAK,CACH,CACEC,OAAQlB,EAAqBkB,QAE/B,CACEA,OAAQ,cAEV,CACEA,OAAQ,iBAGX,CACDF,KAAM,UACNC,IAAK,CACH,CACEC,OAAQlB,EAAqBkB,QAE/B,CACEA,OAAQ,aACRE,QAAS,CACPC,cAAe,IAKnB,CACEH,OAAQ,kBAEV,CACEA,OAAQ,mBAGX,CACDF,KAAM,UACNC,IAAK,CACH,CACEC,OAAQlB,EAAqBkB,QAE/B,CACEA,OAAQ,cAEV,CACEA,OAAQ,iBAId,CACEF,KAAM,UACNC,IAAK,CAUH,CACEC,OAAQ,cACRE,QAAS,CACPE,MAAO,CAAC,eAKhB,CACEN,KAAM,mBACNC,IAAK,CACH,CACEC,OAAQ,cACRE,QAAS,CACPjD,KAAM,0BAKd,CACE6C,KAAM,QACNC,IAAK,CACH,CACEC,OAAQ,yCAMlBK,QAAS,CACP,IAAIvB,EAAqB,CACvBI,SAAU,eAEZ,IAAIL,EAAQyB,8ECpJhB7D,EAAAD,QAAA,CAAkB+D,MAAA,iBAAAC,OAAA,OAAAC,UAAA,iMCAlBhE,EAAAD,QAAA,SAAAkE,GACA,IAAAA,EAAAC,gBAAA,CACA,IAAAlE,EAAAW,OAAAY,OAAA0C,GAEAjE,EAAAmE,WAAAnE,EAAAmE,SAAA,IACAxD,OAAAC,eAAAZ,EAAA,UACAa,YAAA,EACAC,IAAA,WACA,OAAAd,EAAAE,KAGAS,OAAAC,eAAAZ,EAAA,MACAa,YAAA,EACAC,IAAA,WACA,OAAAd,EAAAC,KAGAU,OAAAC,eAAAZ,EAAA,WACAa,YAAA,IAEAb,EAAAkE,gBAAA,EAEA,OAAAlE,8/ECjBMoE,6BACJ,SAAAA,QAAYC,GAAO,IAAAC,EAAA,OAAAC,6EAAAC,KAAAJ,UACjBE,EAAAG,wFAAAD,KAAAE,6EAAAN,SAAAhE,KAAAoE,KAAMH,KACDM,MAAQ,GAFIL,sNAMjB,OACEM,2CAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,2CAAAC,EAAAC,cAAA,OAAKE,IAAK7C,oBAAQ,2BAAyB8C,IAAI,KAC/CL,2CAAAC,EAAAC,cAAA,UAAKI,qDAAapB,OAClBc,2CAAAC,EAAAC,cAAA,OAAKC,UAAU,UACVI,wBAAyB,CAAEC,OAAQF,qDAAalB,oJAZvCqB,uDAmBPtC,+DAAIqB,oCAAJkB,oBAAA,mLAnBTlB,+gBCLNpE,EAAAD,QAAiBF,EAAAkC,EAAuB,uDCCxC/B,EAAAD,QAAA,CAAkBwF,QAAA,0BAAAC,QAAA,0BAAAC,QAAA,0UCIlB,IAAMC,EAASC,MAwBTC,EAAoBzD,EAAQ,uBAElCuD,EAAOpC,IAAIsC,EAAkB,OAAQ,CACnCC,cAAc,KAGhBH,EAAO5E,IAAI,IAAK,SAACgF,EAAKC,GACpB,IAAMC,EAAOC,IAAeC,eAAeC,EAAAtB,EAAAC,cAACsB,EAAA,EAAD,OAC3CL,EAAIM,KAAJ,+JAAAC,OAQQN,EARR,uJAkBF,QAAMO,EAAOC,gCAAYD,MAAQ,KACjCb,EAAOe,OAAOF,EAAM,WAClBG,QAAQC,IAAR,2CAAAL,OAAuDC,qHApDnDb,uGAESc,sGAgDTD,mTCvDNpE,EAAQ,mBACRA,EAAQ,mHCDRnC,EAAAD,QAAAoC,QAAA,0ECAAnC,EAAAD,QAAAoC,QAAA,6FCAAnC,EAAAD,QAAAoC,QAAA,6FCAAnC,EAAAD,QAAAoC,QAAA,0FCAAnC,EAAAD,QAAAoC,QAAA,qGCAAnC,EAAAD,QAAAoC,QAAA,2ECAAnC,EAAAD,QAAAoC,QAAA,gDCAAnC,EAAAD,QAAAoC,QAAA,4DCAAnC,EAAAD,QAAAoC,QAAA,gECAAnC,EAAAD,QAAAoC,QAAA,+CCAAnC,EAAAD,QAAAoC,QAAA,6BCAAnC,EAAAD,QAAAoC,QAAA,2CCAAnC,EAAAD,QAAAoC,QAAA,sDCAAnC,EAAAD,QAAAoC,QAAA,2DCAAnC,EAAAD,QAAAoC,QAAA,gDCAAnC,EAAAD,QAAAoC,QAAA,mDCAAnC,EAAAD,QAAAoC,QAAA,kECAAnC,EAAAD,QAAAoC,QAAA","file":"server-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const path = require('path');\nconst webpack = require('webpack');\nconst HTMLWebpackPlugin = require('html-webpack-plugin');\nconst MiniCSSExtractPlugin = require('mini-css-extract-plugin');\n\nmodule.exports = {\n  entry: {\n    main: [\n      '@babel/runtime/regenerator',\n      'webpack-hot-middleware/client?reload=true',\n      './src/main.js'\n    ],\n  },\n  mode: 'development',\n  output: {\n    filename: '[name]-bundle.js', // name 会被 entry 名替换\n    path: path.resolve(__dirname, '../dist'),\n    publicPath: \"/\"\n  },\n  devServer: {\n    // 注意这里指定 dist 目录时没有使用 .. 进入上级目录，原因是这里的相对路径\n    // 是相对于 webpack-dev-server 的命令运行所处的目录的。由于 webpack-dev-server 是在\n    // 项目根目录运行的，而 dist 即是在项目根目录下面，所以这里无需先进入上级目录。\n    contentBase: \"dist\",\n    overlay: true,\n    hot: true\n  },\n  optimization: {\n    splitChunks: {\n      chunks: \"all\"\n    }\n  },\n  devtool: \"source-map\",\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        use: [\n          {\n            loader: \"babel-loader\"\n          }\n        ],\n        exclude: /node_modules/\n      },\n      {\n        test: /\\.css$/,\n        use: [\n          {\n            loader: MiniCSSExtractPlugin.loader\n          },\n          {\n            loader: 'css-loader'\n          }\n        ]\n      },\n      {\n        test: /\\.scss$/,\n        use: [\n          {\n            loader: MiniCSSExtractPlugin.loader\n          },\n          {\n            loader: 'css-loader'\n          },\n          {\n            loader: 'sass-loader'\n          }\n        ]\n      }, {\n        test: /\\.styl$/,\n        use: [\n          {\n            loader: MiniCSSExtractPlugin.loader\n          },\n          {\n            loader: 'css-loader',\n            options: {\n              importLoaders: 1,\n              // modules: true,\n              // localIdentName: \"[name]--[local]--[hash:base64:8]\"\n            }\n          },\n          {\n            loader: \"postcss-loader\"\n          },\n          {\n            loader: 'stylus-loader'\n          }\n        ]\n      }, {\n        test: /\\.less$/,\n        use: [\n          {\n            loader: MiniCSSExtractPlugin.loader\n          },\n          {\n            loader: 'css-loader'\n          },\n          {\n            loader: 'less-loader'\n          }\n        ]\n      },\n      {\n        test: /\\.html$/,\n        use: [\n          // {\n          //   loader: 'file-loader',\n          //   options: {\n          //     name: \"[name].html\"\n          //   }\n          // },\n          // {\n          //   loader: 'extract-loader'\n          // },\n          {\n            loader: 'html-loader',\n            options: {\n              attrs: ['img:src']\n            }\n          }\n        ]\n      },\n      {\n        test: /\\.(jpg|gif|png)$/,\n        use: [\n          {\n            loader: 'file-loader',\n            options: {\n              name: 'images/[name].[ext]'\n            }\n          }\n        ]\n      },\n      {\n        test: /\\.md$/,\n        use: [\n          {\n            loader: \"markdown-with-front-matter-loader\"\n          }\n        ]\n      }\n    ]\n  },\n  plugins: [\n    new MiniCSSExtractPlugin({\n      filename: \"[name].css\"\n    }),\n    new webpack.HotModuleReplacementPlugin(),\n    // new HTMLWebpackPlugin({\n    //   template: \"./src/index.html\",\n    //   // inject: false, // 由于我们的 index.html 模板中已经手动添加了打包后的 js，所以这里不再自动注入\n    //   title: \"Link's Journal\"\n    // })\n  ]\n};","module.exports = {\"title\":\"Our first Post\",\"author\":\"Link\",\"__content\":\"<h1 id=\\\"long-ago-in-the-kingdom-of-hyrule\\\">Long ago in the Kingdom of Hyrule</h1>\\n<p>Our hero wakes up. He is alone.</p>\\n\"}","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import React, { Component } from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport '../main.styl';\nimport MarkdownData from '../../data/post.md';\n\nclass Heading extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div className=\"profile\">\n        <img src={require('../images/square.jpg')} alt=\"\" />\n        <h1>{MarkdownData.title}</h1>\n        <div className=\"content\"\n             dangerouslySetInnerHTML={{ __html: MarkdownData.__content }}>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default hot(Heading);","module.exports = __webpack_public_path__ + \"images/square.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"main--counter--3Svs6vHl\",\"profile\":\"main--profile--1IK2Roet\",\"content\":\"main--content--yvImEHCH\"};","import express from 'express';\nimport React from 'react';\nimport AppRoot from '../components/AppRoot';\nimport ReactDOMServer from 'react-dom/server';\n\nconst server = express();\n\nconst isProd = process.env.NODE_ENV === \"production\";\n\nif (!isProd) {\n  const webpack = require('webpack');\n  const config = require('../../config/webpack.dev');\n  const compiler = webpack(config);\n\n  const webpackDevMiddleware =\n    require('webpack-dev-middleware')(\n      compiler,\n      config.devServer\n    );\n\n  const webpackHotMiddleware =\n    require('webpack-hot-middleware')(compiler);\n\n  server.use(webpackDevMiddleware);\n  server.use(webpackHotMiddleware);\n}\n\n// 开发环境是 webpack-dev-middleware 从内存中 serve files，\n// 生产环境才是 express static middleware 从磁盘上 serve files\nconst expressStaticGzip = require('express-static-gzip');\n\nserver.use(expressStaticGzip('dist', {\n  enableBrotli: true\n}));\n\nserver.get(\"*\", (req, res) => {\n  const html = ReactDOMServer.renderToString(<AppRoot />);\n  res.send(`\n<html>\n  <head>\n    <link rel=\"stylesheet\" href=\"/main.css\">\n    <title>Hello Title</title>\n  </head>\n  <body>\n      <div id=\"react-root\">\n        ${html}\n      </div>\n      <script src=\"/vendors~main-bundle.js\"></script>\n      <script src=\"/main-bundle.js\"></script>\n  </body>\n  </html>\n  `);\n});\n\n\nconst PORT = process.env.PORT || 8080; // heroku 会生成一个端口，如果在开发环境，我们使用 8080\nserver.listen(PORT, () => {\n  console.log(`Server is listening on http://localhost:${PORT}`);\n});","require('@babel/register'); // get es6 imports working\nrequire('./express');","module.exports = require(\"@babel/register\");","module.exports = require(\"@babel/runtime/helpers/classCallCheck\");","module.exports = require(\"@babel/runtime/helpers/createClass\");","module.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");","module.exports = require(\"@babel/runtime/helpers/inherits\");","module.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");","module.exports = require(\"express\");","module.exports = require(\"express-static-gzip\");","module.exports = require(\"html-webpack-plugin\");","module.exports = require(\"mini-css-extract-plugin\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-hot-loader\");","module.exports = require(\"react-hot-loader/root\");","module.exports = require(\"webpack\");","module.exports = require(\"webpack-dev-middleware\");","module.exports = require(\"webpack-hot-middleware\");"],"sourceRoot":""}